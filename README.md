# Архиватор формата собственного формата .karch

## Быстрый старт
### Запаковка файлов
Запаковка нескольких файлов из текущей директории в архив `.karch` осуществляется командой:
```
python3 Karchivator.py -p *имя архива* *один или несколько путей, то необходимых файлов*
```

Например:
```
python3 Karchivator.py -p name -s file.txt paramanova_top.txt timati.mp3 navalny.mp4
```
Данныя команда архивирует файлы `file.txt`, `paramanova_top.txt`, `timati.mp3`, `navalny.mp4` из текущей директории в архив `name.karch`

### Распаковка файлов
Распаковка архива осуществляется в текущую директорию. Команда:
```
python3 Karchivator.py -u *путь до архива*
```

## Описание работы
Приложение обязательно требует заполненный один из ключей -p или -u (для запаковки и распаковки файлов соответственно).
В связке с ключем -p должен использоваться ключ -s, после которого идет перечисление путей до файлов, которые будут помещены в архив.
Принимаются как абсолютые, так и относительные пути. При указании папки, в архив будут добавлены все файлы и папки, содержащиеся в ней.
В значениях ключа -p -u расширение ".karch" писать не обязательно
При распакоке, приложение создаст папку с именем архива, в которую будут помещены разархивированные файлы.  


## Разметка файла формата .karch:
* 5 байт - "karch"
* 1 байт - Размер алфавита - n
* ... байт - Описание дерева ключей. Описание заканчивается, тогда когда в нём встретилось n бит, равных единице
* n байт - Перечисление ключей, по одному ключу в каждом. Положение ключа в описании дерева ключей соответсвует его порядку. (i-тая единица в дереве соотвествует i-тому ключу)
* 2 байта - Количество архивированных файлов - m
* m блоков по 5 байт:
    * 4 байта - размер i-того сжатого файла в битах
    * 1 байт - рамер имени файла
* ... байт (До конца файла) - заархивированные данные. Порядок сжатых файлов в нём сохранён. 


